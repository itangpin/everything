/*! Everything 2015-04-07 */
define(function(a,b,c){function d(){this._listeners={}}d.prototype={addListener:function(a,b){return(this._listeners[a]=this._listeners[a]||[]).push(b),this},removeListener:function(a,b){if(1===arguments.length)this._listeners[a]=[];else if("function"==typeof b){var c=this._listeners[a];if(void 0!==c){for(var d=-1,e=0,f=c.length;f>e&&-1===d;e++)c[e]===b&&(d=e);d>=0&&c.splice(d,1)}}return this},fire:function(a,b,c){var e=this._listeners[a];if(b=b||[],b.length||(b=[b]),void 0!==e)for(var f,g={},h=0,i=e.length;i>h&&(f=new d.EventArg(a,g),e[h].apply(c||window,b.concat(f)),g=f.data,f.removed&&(e.splice(h,1),i=e.length,--h),!f.cancelled);h++);return this},hasListeners:function(a){return(void 0===this._listeners[a]?0:this._listeners[a].length)>0}},d.eventify=function(a,b){var c=d.eventify.methods;b=b||new d;for(var e=0,f=c.length;f>e;e++)(function(c){a[c]=function(){return b[c].apply(b,arguments)}})(c[e]);return b},d.eventify.methods=["addListener","removeListener","fire"],d.EventArg=function(a,b){this.name=a,this.data=b,this.cancelled=!1,this.removed=!1},d.EventArg.prototype={cancel:function(){this.cancelled=!0},remove:function(){this.removed=!0}},c.exports=d}),define(function(a,b,c){var d=a("./node.js"),e=a("./history.js"),f=a("./package.js"),g=a("./event.js"),h=a("./saver.js"),i=a("./packages/editor.js"),j=function(a,b){this.data=a,this.index=0,this.packages=[],b.container||this.createContainer(),this.frame=b.container,this.themes=["dark","light"],this.theme=b.theme?b.theme:"light",$(this.frame).addClass(this.theme),$(document.body).addClass(this.theme),this.history=new e,this.packageMgr=new f,this.init(),this.initPackages(),this.creating=!0,this._create(a),this.creating=!1,this.mode="insert"};j.prototype.init=function(){this.eventMgr=new g,this.crumb=new k(this),this.saver=new h(this),this.eventMgr.addListener("rootNodeChange",this.onRootNodeChange),this.eventMgr.addListener("valueChange",this.onValueChange),this.appEvents=["contentChange"],this.appEventsHandler={};var a=this;this.appEvents.forEach(function(b){a.appEventsHandler[b]=[]})},j.prototype._getValue=function(a){return"current"==a?this.rootNode.getValue():"root"==a?this.veryRootNode.getValue():void 0},j.prototype.getRootValue=function(){return this._getValue("root")},j.prototype.getCurentValue=function(){return this._getValue("current")},j.prototype.onValueChange=function(){this.saver.save()},j.prototype.createContainer=function(){},j.prototype._create=function(a){var b=this;this._createToolBar();var c=new d(a,b);c.adjustDom({type:"append",el:this.frame}),c.setRoot(),this.rootNode=c,this.veryRootNode=c;var e=function(a){b.onEvent(a)},f=["click","keydown","propertychange","keyup","paste","cut"];$.each(f,function(a,c){"focus"==c?b.frame.addEventListener(c,e,!0):(b.frame.addEventListener(c,e),b.toobarElement.addEventListener(c,e))})},j.prototype._createToolBar=function(){var a=this,b=document.createElement("div");b.className="toolbar",this.toobarElement=b,document.body.appendChild(b);var c=["theme"];this.buttons={},c.forEach(function(b,c){var d=document.createElement("button");d.className=b,d.innerHTML=b,a.buttons[b]=d,a.toobarElement.appendChild(d)})},j.prototype._createTitle=function(a){var b=a.getContent();if(a==this.veryRootNode)return this.frame.removeChild(this.titleElement),void(this.titleElement=void 0);if(this.titleElement)this.titleText=b,this.titleElement.innerText=b;else{var c=document.createElement("div");c.innerHTML=b,c.setAttribute("contentEditable",!0),c.className+="rootnode-title",this.titleElement=c,$(this.frame).children()?$(this.frame).children().first().before(c):this.frame.appendChild(c)}},j.prototype._createAddButton=function(){var a=this,b=document.createElement("a");b.innerHTML="Add a child",b.setAttribute("href","#");var c=document.createElement("a");c.setAttribute("href","#"),c.innerHTML="Edit";var d=document.createElement("div");d.classList.add("add-wrapper"),d.appendChild(b),d.appendChild(c),this.addBtnWrapper=d,this.frame.appendChild(d),$(b).on("click",function(){a.rootNode._createChild({}),a.addBtnWrapper&&a.frame.removeChild(d)}),$(c).on("click",function(){a.switchRootNodeWithPackage(["editor"]),a.addBtnWrapper&&a.frame.removeChild(d)})},j.prototype.initPackages=function(){this.packageMgr.add("editor",i),this.packages.push("editor")},j.prototype.getPackages=function(){var a=[],b=this;return this.packages.forEach(function(c){a.push(b.packageMgr.get(c))}),a},j.prototype.switchRootNodeWithPackage=function(a){var b=this.rootNode.getValue();b["package"]=a;var c=new d(b,this);c.setParent(this.rootNode.parent),this.zoomIn(c,!0),-1!=a.indexOf("editor")&&c.launchEditor()},j.prototype.onEvent=function(a){if("move"==this.mode?("keydown"==a.type||"focus"==a.type)&&(this.move(a),console.log("keydown")):"insert"==this.mode,27==a.keyCode&&this.setMode("move"),"click"==a.type&&(a.target==this.buttons.theme&&(console.log("theme"),this.toggleTheme()),a.target==this.bread),"propertychange"==a.type);var b=d.getNodeFromTarget(a.target);b&&b.onEvent(a)},j.prototype.onAction=function(a,b){if("zoomin"==a){var c=b.node;if(!c)return;this.zoomIn(c)}"valueChange"==a&&b.node==this.veryRootNode&&this.eventMgr.fire("valueChange",null,this),this.history&&this.history.add(a,b)},j.prototype.onRootNodeChange=function(a){a==this.veryRootNode?this.crumb.hide():this.crumb.render(),this.addBtnWrapper&&(this.frame.removeChild(this.addBtnWrapper),this.addBtnWrapper=void 0)},j.prototype.zoomIn=function(a,b){var c=a;c&&(this.frame.removeChild(this.rootNode.row),c.refreshDom(),c.setRoot(),c.adjustDom({type:"append",el:this.frame}),this.rootNode=c,this._createTitle(this.rootNode),this.eventMgr.fire("rootNodeChange",this.rootNode,this),(b===!1||void 0==b&&!this.rootNode.hasChild())&&this._createAddButton())},j.prototype.toggleTheme=function(){var a=this.themes.indexOf(this.theme);console.log(a);var a=a+2>this.themes.length?0:a+1,b=this.theme;this.theme=this.themes[a],$(this.frame).removeClass(b).addClass(this.theme),$(document.body).removeClass(b).addClass(this.theme),this.eventMgr.fire("themeChange",[this.theme])},j.prototype.setMode=function(a){var b=this.mode;this.mode=a,("insert"==b||"move"==this.mode)&&(this.curentNode.highlight(),this.curentNode.row.setAttribute("contentEditable","false"))},j.prototype.setCurentNode=function(a){var b=this.curentNode;this.curentNode=a,"move"==this.mode&&(b.noHighlight(),a.highlight())},j.prototype.move=function(a){return a.preventDefault(),74==a.keyCode&&this.moveNext(),75==a.keyCode&&this.movePrev(),!1},j.prototype.moveNext=function(){this.index++,2==this.index&&console.log(this.curentNode);var a=this.curentNode;if(a){var b;b=a.hasChild()?a.childs[0]:a.getRelativeNode("after"),a.noHighlight(),b.highlight(),this.curentNode=b,console.log("c"+a.getContent()+";;;n"+b.getContent())}else this.moveToFirst()},j.prototype.movePrev=function(){},j.prototype.moveToFirst=function(){if(this.rootNode&&this.rootNode.hasChild()){var a=this.rootNode.childs[0];this.setCurentNode(a),a.highlight()}},j.prototype.moveToLast=function(){},j.prototype.on=function(a,b){var c=["contentChange"];-1!=c.indexOf(a)&&this.appEvents[a].push(b)};var k=function(a){a&&(this.app=a)};k.prototype.getDom=function(a){var b=this.app,c=[];return a.forEach(function(a,d){var e=a.getContent();a==b.veryRootNode?e="Home":""==a.getContent()&&(e="noname");var f=crel("div",{"class":"crumb-link"},crel("a",{href:"#"+a.id},e),">");c.push(f)}),c},k.prototype.render=function(){var a=this.app,b=this;if(a.crumbElement){a.crumbElement.innerHTML="";var c=this.app.rootNode.getPath(),d=this.getDom(c);d.forEach(function(c,d){a.crumbElement.appendChild(c),$(a.crumbElement).find("a").on("click",function(){b.onEvent($(this))})})}else a.crumbElement=crel("div",{"class":"crumb"}),$(a.frame).children()?$(a.frame).children().first().before(a.crumbElement):a.frame.appendChild(a.crumbElement),this.render()},k.prototype.hide=function(){var a=this.app;a.crumbElement&&(a.frame.removeChild(a.crumbElement),a.crumbElement=void 0)},k.prototype.onEvent=function(a){for(var b,c=this.app,d=a.attr("href").slice(1),e=c.rootNode.parent;e;){if(e.id==d){b=e;break}e=e.parent}c.zoomIn(b)},k.prototype.onRootNodeChange=function(a,b){a==ths.app.veryRootNode&&this.hide(),this.render()},c.exports=j}),define(function(a,b,c){function d(a){this.app=a,this.clear(),this.actions={editField:{undo:function(a){a.node.updateField(a.oldValue)},redo:function(a){a.node.updateField(a.newValue)}},editValue:{undo:function(a){a.node.updateValue(a.oldValue)},redo:function(a){a.node.updateValue(a.newValue)}},appendNode:{undo:function(a){a.parent.removeChild(a.node)},redo:function(a){a.parent.appendChild(a.node)}},insertBeforeNode:{undo:function(a){a.parent.removeChild(a.node)},redo:function(a){a.parent.insertBefore(a.node,a.beforeNode)}},insertAfterNode:{undo:function(a){a.parent.removeChild(a.node)},redo:function(a){a.parent.insertAfter(a.node,a.afterNode)}},removeNode:{undo:function(a){var b=a.parent,c=b.childs[a.index]||b.append;b.insertBefore(a.node,c)},redo:function(a){a.parent.removeChild(a.node)}},duplicateNode:{undo:function(a){a.parent.removeChild(a.clone)},redo:function(a){a.parent.insertAfter(a.clone,a.node)}},changeType:{undo:function(a){a.node.changeType(a.oldType)},redo:function(a){a.node.changeType(a.newType)}},moveNode:{undo:function(a){a.startParent.moveTo(a.node,a.startIndex)},redo:function(a){a.endParent.moveTo(a.node,a.endIndex)}},sort:{undo:function(a){var b=a.node;b.hideChilds(),b.sort=a.oldSort,b.childs=a.oldChilds,b.showChilds()},redo:function(a){var b=a.node;b.hideChilds(),b.sort=a.newSort,b.childs=a.newChilds,b.showChilds()}}}}return d.prototype.onChange=function(){},d.prototype.add=function(a,b){this.index++,this.history[this.index]={action:a,params:b,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},d.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},d.prototype.canUndo=function(){return this.index>=0},d.prototype.canRedo=function(){return this.index<this.history.length-1},d.prototype.undo=function(){if(this.canUndo()){var a=this.history[this.index];if(a){var b=this.actions[a.action];b&&b.undo?(b.undo(a.params),a.params.oldSelection&&this.editor.setSelection(a.params.oldSelection)):console.log('Error: unknown action "'+a.action+'"')}this.index--,this.onChange()}},d.prototype.redo=function(){if(this.canRedo()){this.index++;var a=this.history[this.index];if(a){var b=this.actions[a.action];b&&b.redo?(b.redo(a.params),a.params.newSelection&&this.editor.setSelection(a.params.newSelection)):util.log('Error: unknown action "'+a.action+'"')}this.onChange()}},d}),define(function(a,b,c){var d=a("./util.js"),e=function(a,b){this.value=a,this.formatValue(),this.app=b,this.childs=[],this.childrenMap={},this.isRootNode=!1,this.id=d.uuid(),this.app.packages.length>0&&this.initPackages(),this._createDom(),this.getPath(),this.highlighted=!1};e.getNodeFromTarget=function(a){for(;a;){if(a.node)return a.node;a=a.parentNode}return void 0},e.prototype._updateDomIndexes=function(){var a=this.childs;a.length&&a.forEach(function(a,b){a.index=b,a.row.setAttribute("childIndex",b)})},e.prototype.refreshPath=function(){this.path=[];for(var a=this;a;)a.parent&&this.path.unshift(a.parent),a=a.parent},e.prototype.getPath=function(){return this.refreshPath(),this.path},e.prototype._createDom=function(){var a=crel("a",{"class":"dot"},crel("span",{"class":"b"},crel("span",{"class":"s"}))),b=crel("div",{"class":"project-content",contentEditable:!0}),c=crel("div",{"class":"children"}),d=crel("div",{"class":"project",projectId:this.id},a,b,c);d.node=this,this.buttonElement=a,this.contentElement=b,this.childrenElement=c,this.row=d,this.setValue(),this._onDomReady()},e.prototype.refreshDom=function(){this.childs=[],this.childrenMap={},this._createDom()},e.prototype.adjustDom=function(a){function b(a){$(a).after(d.row)}function c(a){$(a).append(d.row)}var d=this;if(a)switch(a.type){case"after":b(a.el);break;case"append":c(a.el)}else this.parent.appendChild(this.row),z},e.prototype.onEvent=function(a){var b=a.type,c=a.target||a.srcElement;if("keydown"==b){var d=a.keyCode;if(13==d&&a.ctrlKey)return a.preventDefault(),this.createSiblingNodeAfter(),!1;if(13==d&&a.shiftKey)return a.preventDefault(),this._onInsertBefore({}),!1;if(9==a.keyCode)return a.preventDefault(),a.shiftKey?this.unindent():this.indent(),!1;if(46==a.keyCode)return a.preventDefault(),this.parent.removeChildAndDom(this),!1;8==a.keyCode&&""==this.getContent()&&this.parent.removeChildAndDom(this),"move"==this.app.mode}"click"==b&&((c==this.buttonElement||c==this.buttonElement.childNodes[0]||c==this.buttonElement.childNodes[0].childNodes[0])&&(a.altKey?this.collapse():this._onZoomIn()),c==this.contentElement&&this.app.setCurentNode(this)),("keyup"==b||"paste"==b||"cut"==b)&&this.onValueChange(),this.packageEventsHandle(a)},e.prototype.packageEventsHandle=function(a){var b=this;this.packageEvents&&this.packageEvents.length&&$.each(this.packageEvents,function(c,d){d.call(b,a)})},e.prototype.initPackages=function(){var a=this;this.packageEvents=this.packageEvents||[],this.packages=this.app.getPackages(),this.value.packageValue=this.value.packageValue||{},$.each(this.packages,function(b,c){$.extend(a,c.node),a.packageEvents.push(c.onEvent)})},e.prototype.onValueChange=function(){this.app.creating||(this.updateValue(),this.parent&&this.parent.onValueChange(),this.app.onAction("valueChange",{node:this}))},e.prototype.updateValue=function(){this.value=this.getValue()},e.prototype.getValue=function(){var a=this;return this.value.content=this.contentElement.innerHTML,this.value.packageValue=this.value.packageValue,this.value.children=[],this.hasChild()&&this.childs.forEach(function(b){a.value.children.push(b.getValue())}),this.value},e.prototype.formatValue=function(){return Array.isArray(this.value)?(this.value={content:"",children:this.value,packageValue:{}},this.value):(("string"==typeof this.value||this.value.constructor==String)&&(this.value={content:value,children:[],packageValue:{}}),this.value.content||(this.value.content=""),void(this.value.children||(this.value.children=[])))},e.prototype.setValue=function(a){a&&(this.value=a,this.formatValue()),this.value?(this.setContent(this.value.content),this.setChildren(this.value.children)):this.setValue("")},e.prototype.setContent=function(a){("string"==typeof this.value.content||this.value.content.constructor==String)&&(this.content=a,this.contentElement.innerHTML=this.content)},e.prototype.setParent=function(a){this.parent=a},e.prototype.setChildren=function(a){var b=this;Array.isArray(a)&&a.length>0&&(a.forEach(function(a,c){b._createChild(a)}),this.row.className+=" hasChild")},e.prototype.getContent=function(){return this.content=this.contentElement.innerHTML,this.content},e.prototype.setRoot=function(){this.row.classList.add("root"),this.isRootNode=!0},e.prototype.getRelativeNode=function(a){switch(a){case"before":var b=this.row.previousSibling;if(b){var c=b.getAttribute("projectId");return this.parent.findChildById(c)}return null;case"after":if(this.parent){var d=this.parent.childs[this.index+1];return d?d:null}return null}},e.prototype.addSiblingNodeBefore=function(a){this.isRootNode||(a.isRootNode&&(a.isRootNode=!1),a.parent&&a.parent.removeChild(a),a.setParent(this.parent),this.parent._addChild(a),$(this.row).before(a.row),this.onValueChange(this.parent))},e.prototype.addSiblingNodeAfter=function(a){var b=this.getRelativeNode("after");null!=b?b.addSiblingNodeBefore(a):this.parent.appendChild(a),this.onValueChange(this.parent)},e.prototype.addChildNodeAtHead=function(a){},e.prototype.addChildNodeAtTail=function(){},e.prototype.createSiblingNodeAfter=function(){var a=new e({},this.app);a.setParent(this.parent),a.adjustDom({type:"after",el:this.row}),this.parent._addChild(a),a.focus(a.contentElement),this.onValueChange(this.parent)},e.prototype._createChild=function(a){var b=new e(a,this.app);b.setParent(this),b.adjustDom({type:"append",el:this.childrenElement}),b.index=this.childs.length,this._addChild(b),b.focus(b.contentElement),this.onValueChange(this.parent)},e.prototype.appendChild=function(a){this.childrenElement.appendChild(a.row),this._addChild(a),a.index=this.childs.length,this.onValueChange(this.parent)},e.prototype._addChild=function(a){this.childs.push(a),this.childrenMap[a.id]=a,this.onValueChange(this.parent)},e.prototype.removeChild=function(a){this.childrenMap[a.id];this.childs=this.childs.filter(function(b){return b.id!=a.id}),this.childrenMap[a.id]=void 0,this._updateDomIndexes(),this.onValueChange(this.parent)},e.prototype.removeChildAndDom=function(a){var b=this.childrenMap[a.id];b.row.parentNode&&b.row.parentNode.removeChild(b.row),this.removeChild(a)},e.prototype.hasChild=function(){return this.childs.length},e.prototype._onInsertBefore=function(a){var b=new e(a,this.app);b.setParent(null),this.addSiblingNodeBefore(b),b.focus(b.contentElement),this.onValueChange(this.parent)},e.prototype._onInsertAfter=function(a){var b=new e(a,this.app);b.setParent(null),this.addSiblingNodeAfter(b),b.focus(b),this.app.onAction("insertAfter",{node:b,afterNode:this,parent:this.parent}),this.onValueChange(this.parent)},e.prototype._onIndent=function(){var a=this.getRelativeNode("before");a&&(a.appendChild(this),this.setParent(a)),this.onValueChange(this.parent)},e.prototype._onUnshift=function(a){var b=new e(a,this.app);b.setParent(this),this.onValueChange(this.parent)},e.prototype._onZoomIn=function(){this.app.onAction("zoomin",{node:this})},e.prototype._onDomReady=function(){},e.prototype.focus=function(a){var b=document.createRange(),c=window.getSelection();a.innerHTML.length?(b.setStart(a,1),b.setEnd(a,1)):(b.setStart(a,0),b.setEnd(a,0)),c.removeAllRanges(),c.addRange(b),a.focus()},e.prototype.blur=function(){this.contentElement.blur()},e.prototype.indent=function(){if(this.row.previousSibling){var a=this.getRelativeNode("before");this.parent.removeChildAndDom(this),a.appendChild(this),this.parent=a,this.focus(this.contentElement)}this.onValueChange(this.parent)},e.prototype.unindent=function(){this.parent&&(this.parent.addSiblingNodeAfter(this),this.onValueChange(this.parent))},e.prototype.getPrevNode=function(){if(this.prevNodeElement&&this.prevNode)return{el:this.prevNodeElement,node:this.prevNode};if(this.row.previousSibling){this.prevNodeElement=this.row.previousSibling;var a=this.prevNodeElement.getAttribute("projectId");return this.prevNode=this.parent.findChildById(a),this.getPrevNode()}return!1},e.prototype.collapseAnimating=!1,e.prototype.collapse=function(a){if(!this.collapseAnimating&&(this.collapseAnimating=!0,this.hasChild())){var b=this;$(this.childrenElement).hasClass("collapse")?($(b.row).removeClass("collapse"),$(this.childrenElement).animate({height:this.childrenHeight},200,function(){$(this).removeClass("collapse"),$(this).removeAttr("style"),b.collapseAnimating=!1})):(this.childrenHeight=$(this.childrenElement).height(),$(b.row).addClass("collapse"),$(this.childrenElement).animate({height:0},200,function(){$(this).addClass("collapse"),b.collapseAnimating=!1}))}},e.prototype.expand=function(){},e.prototype._destroy=function(){},e.prototype.findChildById=function(a){return this.childrenMap[a]},e.prototype.highlight=function(){this.highlighted=!0,this.contentElement.classList.add("highlight")},e.prototype.noHighlight=function(){this.highlighted=!1,this.contentElement.classList.remove("highlight")},e.prototype.move=function(a){a.preventDefault();var b=this.getRelativeNode("after");return b&&(this.noHighlight(),b.highlight(),this.app.setCurentNode(b)),!1},c.exports=e}),define(function(a,b,c){var d=function(){this.packages={},this.init()};d.prototype.init=function(){},d.prototype.add=function(a,b){this.packages[a]=b},d.prototype.get=function(a){return this.packages[a]},c.exports=d}),define(function(a,b,c){var d=function(a){this.app=a};d.prototype.save=function(){this.saveLocalStorage()},d.prototype.saveLocalStorage=function(){var a=this.app.getRootValue();window.localStorage.setItem("value",JSON.stringify(a))},c.exports=d}),define(function(a,b,c){var d={};return d.uuid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},d}),define(function(a,b,c){var d={name:"editor",extraValue:["editorContent"],node:{},onEvent:{}};d.node._onDomReady=function(){console.log("editor package init");var a=this;this.app.eventMgr.addListener("themeChange",function(b){switch(b){case"dark":b="monokai";break;case"light":b="xq-light"}a.hasLauchEditor&&(a.unLaunchEditor(),a.launchEditor(b))}),this.value.packageValue.editor||(this.value.packageValue.editor={editorContent:""})},d.onEvent=function(a){var b=a.type,c=a.target,d=function(a){a.editorHasLaunched?(a.unLaunchEditor(),a.editorHasLaunched=!1):(a.launchEditor(),a.editorHasLaunched=!0)};return"keydown"==b&&79==a.keyCode&&a.altKey?(a.preventDefault(),d(this),!1):void("click"==b&&a.altKey&&(c==this.buttonElement||c==this.buttonElement.childNodes[0]||c==this.buttonElement.childNodes[0].childNodes[0])&&d())},d.node.editorHasLaunched=!1;var e=function(a){var b;switch(a){case"dark":b="monokai";break;case"light":b="xq-light"}return b};d.node.launchEditor=function(a){var b=this;this.row.classList.add("package","editor"),this.titleElement=crel("div",{"class":"title",contentEditable:"true"},this.value.content),this.editorElement=crel("div",{"class":"editor"},this.titleElement),this.row.insertBefore(this.editorElement,this.childrenElement);var c=function(a,b,c){var c=c||"xq-light",d={theme:c,tabSize:4,lineNumbers:!1,lineWrapping:!0,autoCloseBrackets:!0,extraKeys:this.keyMaps,mode:{name:"markdown",underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0},value:b};return new CodeMirror(a,d)};this.cm=c(this.editorElement,this.value.packageValue.editor.editorContent||"",e(this.app.theme)),this.cm.on("change",function(a,c){b.onEditorContentChange(a,c)}),this.hasLauchEditor=!0,this.focus(this.titleElement)},d.node.unLaunchEditor=function(){$(this.row).removeClass("editor"),this.row.classList.remove("editor"),this.row.removeChild(this.editorElement),this.codemirror=void 0,this.hasLauchEditor=!1},d.node.onEditorContentChange=function(a,b){console.log("change event"),this.editorSave(a.getDoc().getValue()),this.onValueChange()},d.node.editorSave=function(a){this.value.packageValue.editor.editorContent=a},c.exports=d}),define(function(a,b,c){var d={name:"hightlight"};d.init=function(a){}});